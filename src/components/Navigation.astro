---
import Trans from './Trans.astro'
import Link from './Link.astro'
import useTranslation from '../locales/useTranslation'

const { isFrench } = useTranslation(Astro)
const path = Astro.url.pathname
const isDocs = path.includes('/docs')
const isHome = path === '/' || path === '/fr' || path === '/fr/'
---

<nav>
	<div class='container'>
		<div class='links'>
			<Link href='/' id='homeLink'>
				<Trans>Home</Trans>
			</Link>

			<Link href='/docs'>
				<Trans>Docs</Trans>
			</Link>

			<Link href='/contact'>Contact</Link>

			<a href='https://ko-fi.com/bonjourr'>
				<Trans>Donate</Trans>
			</a>

			<a href='https://github.com/victrme/Bonjourr'>Github</a>

			<a href='https://online.bonjourr.fr'>
				<Trans>Online</Trans>
			</a>
		</div>

		<a href={isFrench ? path.substring(3) : '/fr' + path} class='language'>
			<span role='img' aria-label=''>üåç</span>
			{isFrench ? 'en' : 'fr'}
		</a>
	</div>
</nav>

<style>
	nav {
		position: absolute;
		width: 100%;
		z-index: 3;
	}

	nav .container {
		display: flex;
		justify-content: space-between;
		column-gap: 2em;
		max-width: 1200px;
		padding: 2.5em 4em;
		margin: auto;
	}

	.language {
		display: flex;
		gap: 0.2em;
	}

	nav .links {
		display: flex;
		flex-wrap: wrap;
		column-gap: 2.5em;
	}

	nav .links:hover a {
		opacity: 0.8;
	}

	nav .links:hover a:hover {
		opacity: 1;
		border-color: white;
		border-bottom: 2px solid white;
		transition: border-color 0.15s;
	}

	.container a {
		position: relative;
		padding: 0.5em 0;
		font-weight: 500;
		border-bottom: 2px solid transparent;
		transition: border 0.1s;
	}

	@media only screen and (max-width: 500px) {
		nav .container {
			padding: 1.5em;
		}
	}
</style>
