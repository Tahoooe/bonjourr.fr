---
import Layout from './Layout.astro'
import DocsHero from '../components/Docs/DocsHero.astro'
import DocsNav from '../components/Docs/DocsNav.astro'

import danist from '../assets/docs/danist-bviex5lwf3s.webp'
import joe from '../assets/docs/joe-eitzen-ByDY5eqhP.webp'
import jonny from '../assets/docs/jonny-gios-gBr5Hmx1STc.webp'
import kir from '../assets/docs/kir-simakov-ZN3Hsru3SIM.webp'
import neha from '../assets/docs/neha-maheen-mahfin-IskqApmpcAw.webp'

const { frontmatter } = Astro.props
const isPrivacyPage = frontmatter?.slug === 'privacy'

const images = {
	platforms: danist,
	overview: neha,
	profiles: joe,
	help: jonny,
	css: kir,
}

const heroImage = images[frontmatter.slug as keyof typeof images] ?? joe
---

<Layout title={frontmatter.title + " Â· Bonjourr's documentation"} lang={frontmatter.lang}>
	<div id='gradient-background'></div>

	<DocsHero src={heroImage} title={frontmatter.title} />

	<article class={frontmatter.slug}>
		{!isPrivacyPage && <DocsNav frontmatter={frontmatter} />}

		<div class='content'>
			<slot />
		</div>
	</article>
</Layout>

<style is:global>
	#gradient-background {
		position: fixed;
		top: 0;
		left: 0;
		width: 100vw;
		height: 100vh;
		z-index: -1;
		background: linear-gradient(#323235, #222225);
	}

	main,
	article {
		min-height: calc(100vh - 470px);
	}

	code {
		border-radius: 3px;
		padding: 2px 10px;
		font-size: 14px;
		font-weight: normal;
		color: #eee;
		background-color: #444;
		overflow-wrap: break-word;
	}

	pre {
		tab-size: 1.5em;
		padding: 1.5em;
		border-radius: 0.5em;
		border: 1px solid #fff1;
	}

	article.profiles pre {
		white-space: normal;
	}

	pre > code {
		background-color: transparent;
	}

	article {
		position: relative;
		display: flex;
		margin: auto;
		justify-content: center;
		padding: 4em 2em;
		font-size: 16px;
		gap: 4em;
	}

	.content {
		padding-bottom: 5em;
		max-width: 700px;
		min-width: 360px;
		width: 100%;
	}

	.content a {
		color: #5ca5ff;
	}

	.content a:hover {
		text-decoration: underline;
	}

	.content h2,
	.content h3,
	.content h4,
	.content h5,
	.content h6 {
		margin: 0 0 0.5em 0;
		font-weight: 500;

		&:first-child {
			padding-top: 0;
		}
	}

	.content h2 {
		padding-top: 2.2em;
		font-size: 1.8em;
	}

	.content h3 {
		padding-top: 1.5em;
	}

	.content p,
	.content ul,
	.content code {
		margin-bottom: 1em;
		color: #e7e6ea;
	}

	.content strong {
		font-weight: 500;
	}

	.content img {
		width: 100%;
	}

	table {
		width: 800px;
		max-width: 100%;
		border-collapse: collapse;
		word-break: break-word;
	}

	th {
		padding: 1em;
		text-align: left;
	}

	td {
		padding: 1em;
		border: 1px solid #ccc;
		max-width: 500px;
	}

	@media (prefers-color-scheme: dark) {
		td {
			border-color: #666;
		}
	}

	@media only screen and (max-width: 700px) {
		article {
			flex-direction: column;
		}

		.content {
			min-width: 100%;
		}
	}

	@media only screen and (max-width: 500px) {
		.content h2 {
			font-size: 1.5em;
		}

		article {
			padding-bottom: 4em;
		}
	}
</style>
